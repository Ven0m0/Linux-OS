# Skip automated install of recommends/suggests and allow their autoremoval
APT::Install-Recommends "false";
APT::Install-Suggests "false";
APT::AutoRemove::RecommendsImportant "false";
APT::AutoRemove::SuggestsImportant "false";

# Skip detailed and translated package description downloads
Acquire::Languages "none";

# Disable source package cache which most users will never use
Dir::Cache::srcpkgcache "";

# Keep lists xz-compressed which reduces list read speed significantly
# but reduces disk usage and writes in two ways:
# - Debian and Raspbian repos ship lists xz-compressed.
# - Using any other format (default: lz4) needs them to be uncompressed or recompressed, all performed on disk by default.
Acquire::GzipIndexes "true";
Acquire::IndexTargets::deb::Packages::KeepCompressedAs "xz";
Acquire::IndexTargets::deb::Translations::KeepCompressedAs "xz";
Acquire::IndexTargets::deb-src::Sources::KeepCompressedAs "xz";

# Preserve modified and missing DEB package config files
DPkg::options:: "--force-confdef,confold";

# Remove package flag file
DPkg::Pre-Install-Pkgs:: "read -r dummy && [ -f '/run/dietpi/.apt_updates' ] && rm /run/dietpi/.apt_updates || :";

Acquire::CompressionTypes::Order { "lz4"; "zst"; "xz"; "gz"; };

Binary::apt::DPkg::Progress-Fancy "0";
Binary::apt::APT::Get::Update::InteractiveReleaseInfoChanges "0";
APT::Periodic::Unattended-Upgrade "0";
APT::Periodic::Update-Package-Lists "0";

# Acquire::Queue-Mode "host";
# Acquire::Queue-Mode "access";
