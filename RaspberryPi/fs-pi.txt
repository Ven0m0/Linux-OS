https://wiki.psuter.ch/doku.php?id=install_raspbian_on_f2fs_root


sudo nano /etc/udev/rules.d/60-ioschedulers.rules

# SSD
ACTION=="add|change", KERNEL=="sd[a-z]*|mmcblk[0-9]*", ATTR{queue/rotational}=="0", ATTR{queue/scheduler}="mq-deadline"

# 4. USB flash sticks (external, non-rotational)
ACTION=="add|change", SUBSYSTEM=="block", ENV{ID_BUS}=="usb", ATTR{queue/scheduler}="none"

# HDD
ACTION=="add|change", KERNEL=="sd[a-z]*", ATTR{queue/rotational}=="1", ATTR{queue/scheduler}="bfq"

# NVMe SSD
ACTION=="add|change", KERNEL=="nvme[0-9]*", ATTR{queue/rotational}=="0", ATTR{queue/scheduler}="none"

look into:
systemd-oomd

https://github.com/garyexplains/examples/blob/master/how_to_enable_ZRAM_Raspberry_Pi.md
Zswap and external jounal:

lsblk
4gb for external journal
rest for zswap (28gb in my case)

sudo nano /etc/sysctl.conf
vm.dirty_ratio=50
vm.page-cluster = 0
vm.swappiness=80
vm.watermark_boost_factor=0
