https://github.com/sn99/Optimizing-linux


# sudo nano /etc/fstab
btrfs:
noatime,space_cache=v2,ssd,discard=async,commit=120

# Ext4:
journal_async_commit
noatime,discard=async,commit=120,data=writeback,journal_async_commit,nobh,nobarrier
sudo tune2fs -O fast_commit /dev/nvme0n1p2
sudo tune2fs -O casefold /dev/nvme0n1p2

# Disable core dumps:
sudo nano /etc/sysctl.d/50-coredump.conf
kernel.core_pattern=false

# https://wiki.cachyos.org/configuration/general_system_tweaks
sudo nano /etc/sysctl.d/99-splitlock.conf
kernel.split_lock_mitigate=0

Bootloader:
sudo nano /boot/limine.conf
Kernel:
sudo nano /etc/default/limine
quiet nowatchdog mitigations=off split_lock_detect=off pcie_aspm.policy=performance

echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor

# https://wiki.archlinux.org/title/Sysctl#Networking
modprobe tcp_bbr

sudo nano /usr/lib/sysctl.d/99-cachyos-settings.conf
net.ipv4.tcp_fastopen = 3
net.ipv4.tcp_mtu_probing = 1
net.ipv4.tcp_timestamps = 0
net.ipv4.tcp_low_latency = 1
net.ipv4.tcp_sack = 1
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_fin_timeout = 10
net.ipv4.tcp_slow_start_after_idle = 0
net.core.default_qdisc = fq
net.ipv4.tcp_congestion_control = bbr
net.core.rmem_default = 1048576
net.core.rmem_max = 16777216
net.core.wmem_default = 1048576
net.core.wmem_max = 16777216
net.core.optmem_max = 65536
net.ipv4.tcp_rmem = 4096 1048576 2097152
net.ipv4.tcp_wmem = 4096 65536 16777216
net.ipv4.udp_rmem_min = 8192
net.ipv4.udp_wmem_min = 8192
# Symlink build fix
fs.protected_symlinks = 0


sudo nano /etc/pacman.conf

# https://wiki.archlinux.org/title/Pacman/Tips_and_tricks#Installing_only_content_in_required_languages
NoExtract = usr/share/doc/*
NoExtract = /usr/share/help/*
NoExtract = /usr/share/gtk-doc/*
NoExtract = usr/share/locale/* usr/share/X11/locale/*/* usr/share/i18n/locales/* opt/google/chrome/locales/* !usr/share/X11/locale/C/* !usr/share/X11/locale/en_US.UTF-8/*
NoExtract = !usr/share/X11/locale/compose.dir !usr/share/X11/locale/iso8859-1/*
NoExtract = !*locale*/en*/* !usr/share/*locale*/locale.*
NoExtract = !usr/share/*locales/en_?? !usr/share/*locales/i18n* !usr/share/*locales/iso*
NoExtract = usr/share/i18n/charmaps/* !usr/share/i18n/charmaps/UTF-8.gz !usr/share/i18n/charmaps/ANSI_X3.4-1968.gz
NoExtract = !usr/share/*locales/trans*
NoExtract = !usr/share/*locales/C !usr/share/*locales/POSIX
NoExtract = usr/share/man/* !usr/share/man/man*
NoExtract = usr/share/vim/vim*/lang/*
NoExtract = usr/share/*/translations/*.qm !usr/share/*/translations/*en.qm usr/share/*/nls/*.qm usr/share/qt/phrasebooks/*.qph usr/share/qt/translations/*.pak !*/en-US.pak
NoExtract = usr/share/*/locales/*.pak opt/*/locales/*.pak usr/lib/*/locales/*.pak !*/en-US.pak
NoExtract = usr/lib/libreoffice/help/en-US/*
NoExtract = usr/share/ibus/dicts/emoji-*.dict !usr/share/ibus/dicts/emoji-en.dict

[chaotic-aur]
Include = /etc/pacman.d/chaotic-mirrorlist

[repo-ck]
Server = http://repo-ck.com/$arch
